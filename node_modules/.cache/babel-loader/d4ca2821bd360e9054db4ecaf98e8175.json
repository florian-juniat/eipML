{"ast":null,"code":"import React from'react';import{Card,CardMedia,CardContent,CardActions,Typography,IconButton}from'@material-ui/core';import{AddShoppingCart,PrintRounded}from'@material-ui/icons';import useStyles from'./styles';import axios from'axios';var Product=function Product(_ref){var product=_ref.product,onAddToCart=_ref.onAddToCart,token=_ref.token,setTotalItem=_ref.setTotalItem;var classes=useStyles();var handleAddToCart=function handleAddToCart(){axios.post('https://back-ecommerce01.herokuapp.com/home/addToBasket',{idItem:product.id},{headers:{'Authorization':token}}).then(function(res){axios.get('https://back-ecommerce01.herokuapp.com/home/recommended',{headers:{'Authorization':token}}).then(function(res){setTotalItem(res.data.basket);}).catch(function(error){});}).catch(function(error){});};return/*#__PURE__*/React.createElement(Card,{className:classes.root},/*#__PURE__*/React.createElement(CardMedia,{className:classes.media,image:product.picture,title:product.name}),/*#__PURE__*/React.createElement(CardContent,null,/*#__PURE__*/React.createElement(\"div\",{className:classes.cardContent},/*#__PURE__*/React.createElement(Typography,{gutterBottom:true,variant:\"h5\",component:\"h2\"},product.name),/*#__PURE__*/React.createElement(Typography,{gutterBottom:true,variant:\"h5\",component:\"h2\"},\"$\",product.price)),/*#__PURE__*/React.createElement(Typography,{dangerouslySetInnerHTML:{__html:product.description},variant:\"body2\",color:\"textSecondary\",component:\"p\"})),/*#__PURE__*/React.createElement(CardActions,{disableSpacing:true,className:classes.cardActions},/*#__PURE__*/React.createElement(IconButton,{\"aria-label\":\"Add to Cart\",onClick:handleAddToCart},/*#__PURE__*/React.createElement(AddShoppingCart,null))));};export default Product;","map":{"version":3,"sources":["/home/flo/HeriotWatt/E-commerce/CW/ecomm/src/components/Products/Product/Product.jsx"],"names":["React","Card","CardMedia","CardContent","CardActions","Typography","IconButton","AddShoppingCart","PrintRounded","useStyles","axios","Product","product","onAddToCart","token","setTotalItem","classes","handleAddToCart","post","idItem","id","headers","then","res","get","data","basket","catch","error","root","media","picture","name","cardContent","price","__html","description","cardActions"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,CAAeC,SAAf,CAA0BC,WAA1B,CAAuCC,WAAvC,CAAoDC,UAApD,CAAgEC,UAAhE,KAAkF,mBAAlF,CACA,OAASC,eAAT,CAA0BC,YAA1B,KAA8C,oBAA9C,CAEA,MAAOC,CAAAA,SAAP,KAAsB,UAAtB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAGA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,MAAmD,IAAhDC,CAAAA,OAAgD,MAAhDA,OAAgD,CAAvCC,WAAuC,MAAvCA,WAAuC,CAAzBC,KAAyB,MAAzBA,KAAyB,CAAlBC,YAAkB,MAAlBA,YAAkB,CACjE,GAAMC,CAAAA,OAAO,CAAGP,SAAS,EAAzB,CAEA,GAAMQ,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC5BP,KAAK,CAACQ,IAAN,CAAW,yDAAX,CAAsE,CAACC,MAAM,CAAEP,OAAO,CAACQ,EAAjB,CAAtE,CACK,CACCC,OAAO,CAAE,CACP,gBAAiBP,KADV,CADV,CADL,EAIMQ,IAJN,CAIW,SAAAC,GAAG,CAAI,CACdb,KAAK,CAACc,GAAN,CAAU,yDAAV,CAAqE,CACnEH,OAAO,CAAE,CACP,gBAAiBP,KADV,CAD0D,CAArE,EAGMQ,IAHN,CAGW,SAAAC,GAAG,CAAI,CACZR,YAAY,CAACQ,GAAG,CAACE,IAAJ,CAASC,MAAV,CAAZ,CACH,CALH,EAKKC,KALL,CAKW,SAAUC,KAAV,CAAiB,CACzB,CANH,EAOD,CAZH,EAYKD,KAZL,CAYW,SAAUC,KAAV,CAAiB,CACvB,CAbL,EAcD,CAfD,CAiBA,mBACE,oBAAC,IAAD,EAAM,SAAS,CAAEZ,OAAO,CAACa,IAAzB,eACE,oBAAC,SAAD,EAAW,SAAS,CAAEb,OAAO,CAACc,KAA9B,CAAqC,KAAK,CAAElB,OAAO,CAACmB,OAApD,CAA6D,KAAK,CAAEnB,OAAO,CAACoB,IAA5E,EADF,cAEE,oBAAC,WAAD,mBACE,2BAAK,SAAS,CAAEhB,OAAO,CAACiB,WAAxB,eACE,oBAAC,UAAD,EAAY,YAAY,KAAxB,CAAyB,OAAO,CAAC,IAAjC,CAAsC,SAAS,CAAC,IAAhD,EACGrB,OAAO,CAACoB,IADX,CADF,cAIE,oBAAC,UAAD,EAAY,YAAY,KAAxB,CAAyB,OAAO,CAAC,IAAjC,CAAsC,SAAS,CAAC,IAAhD,MACIpB,OAAO,CAACsB,KADZ,CAJF,CADF,cASE,oBAAC,UAAD,EAAY,uBAAuB,CAAE,CAAEC,MAAM,CAAEvB,OAAO,CAACwB,WAAlB,CAArC,CAAsE,OAAO,CAAC,OAA9E,CAAsF,KAAK,CAAC,eAA5F,CAA4G,SAAS,CAAC,GAAtH,EATF,CAFF,cAaE,oBAAC,WAAD,EAAa,cAAc,KAA3B,CAA4B,SAAS,CAAEpB,OAAO,CAACqB,WAA/C,eACE,oBAAC,UAAD,EAAY,aAAW,aAAvB,CAAqC,OAAO,CAAEpB,eAA9C,eACE,oBAAC,eAAD,MADF,CADF,CAbF,CADF,CAqBD,CAzCD,CA2CA,cAAeN,CAAAA,OAAf","sourcesContent":["import React from 'react';\nimport { Card, CardMedia, CardContent, CardActions, Typography, IconButton } from '@material-ui/core';\nimport { AddShoppingCart, PrintRounded } from '@material-ui/icons';\n\nimport useStyles from './styles';\nimport axios from 'axios';\n\n\nconst Product = ({ product, onAddToCart , token, setTotalItem}) => {\n  const classes = useStyles();\n\n  const handleAddToCart = () => {\n    axios.post('https://back-ecommerce01.herokuapp.com/home/addToBasket', {idItem: product.id\n      }, {\n          headers: {\n            'Authorization': token\n      }}).then(res => {\n        axios.get('https://back-ecommerce01.herokuapp.com/home/recommended', {\n          headers: {\n            'Authorization': token\n          }}).then(res => {\n              setTotalItem(res.data.basket)\n          }).catch(function (error) {\n          });\n      }).catch(function (error) {\n        });\n  }\n\n  return (\n    <Card className={classes.root}>\n      <CardMedia className={classes.media} image={product.picture} title={product.name} />\n      <CardContent>\n        <div className={classes.cardContent}>\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\n            {product.name}\n          </Typography>\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\n            ${product.price}\n          </Typography>\n        </div>\n        <Typography dangerouslySetInnerHTML={{ __html: product.description }} variant=\"body2\" color=\"textSecondary\" component=\"p\" />\n      </CardContent>\n      <CardActions disableSpacing className={classes.cardActions}>\n        <IconButton aria-label=\"Add to Cart\" onClick={handleAddToCart}>\n          <AddShoppingCart />\n        </IconButton>\n      </CardActions>\n    </Card>\n  );\n};\n\nexport default Product;\n\n"]},"metadata":{},"sourceType":"module"}